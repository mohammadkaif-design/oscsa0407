#include <stdio.h>
int findLRU(int time[],int n){
    int min=time[0],pos=0,i;
    for(i=1;i<n;i++) if(time[i]<min){ min=time[i]; pos=i; }
    return pos;
}
int main(){
    int n=3, pages[]={7,0,1,2,0,3,0,4,2,3,0,3}, m=12;
    int frame[3], time[3], i,j,pos,counter=0,faults=0;
    for(i=0;i<n;i++) frame[i]=-1;

    for(i=0;i<m;i++){
        int hit=0;
        for(j=0;j<n;j++) if(frame[j]==pages[i]){ hit=1; time[j]=++counter; }
        if(!hit){
            for(j=0;j<n;j++) if(frame[j]==-1) break;
            if(j<n) pos=j; else pos=findLRU(time,n);
            frame[pos]=pages[i]; time[pos]=++counter; faults++;
        }
        printf("Ref %d: ",pages[i]);
        for(j=0;j<n;j++) printf("%d ",frame[j]);
        printf("\n");
    }
    printf("Total Page Faults = %d\n",faults);
}
